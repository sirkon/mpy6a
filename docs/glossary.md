# Глоссарий

## Объекты системы:

* **Сессия** или **задача** – вся работа с WAL состоит в создании, модификации, удалении и отправке сессий на повтор:
  * Создание сессии это заведение объекта, с помощью которого мы можем изменять её данные, удалять или отправлять её
    на повтор.
  * Модификация сессии заключается в добавлении к ней сырых данных ([]byte).
  * Удаление сессии означает её удаление, т.е. ни повторов, ни дальнейшей работы с ней не будет.
* **Сохранение** (сессия для повтора) – процесс, когда сессия улетает на хранение до момента, когда настанет время
  её восстановления. Сохранение сессии производится с указанием времени восстановления, которое вычисляется как
  "текущее время" + "задержка восстановления для темы сессии" + случайная продолжительность времени.
  Компонент случайности добавлен для избегания волновых нагрузок, потому что проблемы, как правило, наваливаются
  скопом. Это означает, что единомоментно появится большое число незавершённых задач – без случайного компонента они
  толпой поедут на восстановление.
* **Повтор сессии** – это процесс, когда система обращается к внешнему обработчику с данными сессии для разрешения
  проблем диагностированных по этим данным. Процесс может завершаться как удалением сессии, так и её пересохранением.

## Субъекты системы:

* **Система** или **состояние** – это сам **WAL**, т.е. **W**rite **A**head **L**og и есть. Это то, к чему применяются
  операторы.
* **Клиентский оператор** – это обработчик клиентских запросов. Сокращённо клиент.
* **Оператор восстановления** – это обработчик производящий повтор сессии.
* У операторов есть **управляющий**. В случае с клиентом управляющий сам инициализирует оператора, а в случае с
  оператором восстановления он вначале обращается к управляющему, чтобы тот взял управление. Это единственная 
  разница между ними. Эта разница почти не относится к реализации системы, и на уровне кода выглядит как разница между 
  получением готового оператора и получением оператора с помощью фабрики. Обычно поэтому мы будем говорить только об 
  **операторе**, когда явно не упомянут его конкретный вид. 

